<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Appointment List</title>
    <style>
        table { width: 80%; margin: 20px auto; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>Appointment List</h1>
    <table>
        <thead>
            <tr>
                <th>Index</th>
                <th>Specialty</th>
                <th>Doctor</th>
                <th>Created Date</th>
                <th>Approved Date</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="app : ${appointments}">
                <td th:text="${app.appointmentId}"></td>
                <td th:text="${app.specialty.specialtyName}"></td>
                <td th:text="${app.doctor != null ? app.doctor.doctorName : '-'}"></td>
                <td th:text="${#dates.format(app.createdDate, 'yyyy-MM-dd')}"></td>
                <td th:text="${app.approvedDate != null ? #dates.format(app.approvedDate, 'yyyy-MM-dd') : '-'}"></td>
                <td><a th:href="@{/patient/appointments/details/{id}(id=${app.appointmentId})}">Details</a></td>
            </tr>
        </tbody>
    </table>
    <a th:href="@{/patient/dashboard}">Back to Dashboard</a>
</body>
</html>